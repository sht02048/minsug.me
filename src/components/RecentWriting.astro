---
import { getCollection } from "astro:content";

const recentWritings = await getCollection("writings").then((writings) =>
  writings
    .sort((a, b) => b.data.date.getTime() - a.data.date.getTime())
    .filter((_, index) => index <= 4),
);
---

<span class="mb-5 block font-medium sm:mb-4">Writing</span>
<div class="flex flex-col gap-7 sm:gap-4">
  {
    recentWritings.map((recentWriting) => {
      const slug = recentWriting.id.split("/").pop();

      return (
        <a
          class="-mx-3 flex flex-col rounded-md px-3 no-underline hover:bg-[#191918] sm:py-3 cursor-pointer"
          href={slug}
        >
          <span class="font-medium">{recentWriting.data.title}</span>
          <span class="text-secondary">{recentWriting.data.description}</span>
        </a>
      );
    })
  }
</div>
